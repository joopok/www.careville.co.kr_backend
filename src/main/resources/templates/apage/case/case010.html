<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/apage/default_layout}">
<head>
<title>:: 시공 사례 ::</title>
<style>
.thumbnail{margin-bottom:7px;}
.list-unstyled a{padding-left:3px;}
#pagination{text-align:center;}
#pagination ul{margin-top:0px;}
.col-lg-3{text-align: center;}
.col-lg-3 img{width:100%; aspect-ratio:4 / 3; object-fit:cover; border-radius:6px;}
.col-lg-3 a{display:block; max-width:100%; margin-top:8px; font-size:14px; color:#333; text-decoration:none; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;}
.label {margin-right:3px;}

</style>
<link rel="stylesheet" th:href="@{/plugins/light-gallery/css/lightgallery.css}" />
<script th:src="@{/plugins/light-gallery/js/lightgallery-all.js}"></script>
<script th:src="@{/apage/js/pages/medias/image-gallery.js}"></script>
<script th:src="@{/apage/js/case010.js}"></script>
</head>
<body>
<div layout:fragment="content">
	
	<section class="content">
	    <div class="container-fluid">
	        <div class="row">
	            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
	                <div class="card">
	                    <div class="header"><h2>시공 사례 목록</h2></div>
	                    <div class="body">
							<div class="list-unstyled row clearfix">
								
								<form id="searchMap" method="POST" >
								    <th:block th:each="entry : ${searchMap}">
								        <input type="hidden" th:name="${entry.key}" th:value="${entry.value != null ? entry.value : ''}" th:if="${entry.key != 'caseSeq'}">
								    </th:block>
								</form>
								
								<form id="searchFrom">
									<input type="hidden" name="currPage"value="1">
									<div class="col-xs-3">
										<div class="form-group">
											<div class="form-line">
												<input type="text" name="caseSj" class="form-control" placeholder="글 제목">
											</div>
										</div>
									</div>
									<div class="col-xs-3">
										<div class="form-group">
											<div class="form-line">
												<input type="text" name="hashtag" class="form-control" placeholder="해시태그">
											</div>
										</div>
									</div>
									<div class="col-xs-3">
										<div class="form-group">
											<select id="serviceCd" name="serviceCd" class="form-control">
												<option value="">서비스 전체</option>
												<option th:each="code : ${svcCdList}" th:value="${code.serviceCd}" th:text="${code.serviceNm}"></option>
											</select>
										</div>
									</div>									
									<div class="col-xs-3 ">
										<button type="button" class="btn btn-primary waves-effect btnSearch">
											<i class="material-icons">search</i>
											<span>검색</span>
										</button>
										<button type="button" class="btn btn-default waves-effect" id="btnWrite">
											<i class="material-icons">insert_comment</i>
											<span>등록</span>
										</button>
									</div>
								</form>							
							</div>
	                        <div class="list-unstyled row clearfix">
								
	                            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12" th:each="item,sts : ${list}">
									<img class="img-responsive thumbnail" th:src="@{|/fileView.do?viewFileSeq=${item.viewfileseq}|}">
	                                <a href="javascript:void(0);" class="templateView" data-sub-html="Demo Description" th:data-key="${item.caseSeq }" th:text="${item.caseSj }"></a>
									<span class="label label-info" th:each="item : ${#strings.arraySplit(item.hashtag, ',')}">
									  [[${item}]]
									</span>
									<span class="label bg-grey" th:if="${#strings.isEmpty(item.hashtag)}">
									  #해시태그 없음.
									</span>
									<h5 th:text="${item.serviceNm}"></h5>
									<h5 th:if="${#strings.isEmpty(item.serviceNm)}">서비스 항목을 선택하지 않았습니다.</h5>
	                            </div>
	                            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12" th:if="${#lists.isEmpty(list)}">
									등록된 시공 사레가 없습니다.
	                            </div>

	                        </div>

							<div id="pagination" class="dataTables_paginate paging_simple_numbers" >
								<ul class="pagination" th:if="!${#lists.isEmpty(list)}">
									<li class="paginate_button previous" th:classappend="${pagination.prev == 0} ? 'disabled'">
										<a href="javascript:void(0);" th:data-key="${pagination.prev}">‹<span class="sr-only">Previous</span></a></li>
									<li class="paginate_button " th:each="num : ${pagination.order}" th:classappend="${pagination.currPage == num} ? 'active'">
										<a href="javascript:void(0);" th:data-key="${num}" th:text="${num}">1</a></li>
									<li class="paginate_button next" th:classappend="${pagination.next == 0} ? 'disabled'">
										<a href="javascript:void(0);" th:data-key="${pagination.next}">›<span class="sr-only">Next</span></a></li>
								</ul>
								
							</div>							
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	</section>	
	
	<div class="modal fade" id="defaultModal" tabindex="-1" role="dialog">
	    <div class="modal-dialog modal-lg" role="document">
	        <div class="modal-content">
	            <div class="modal-header">
	                <h4 class="modal-title" id="defaultModalLabel">온라인 상담 상세</h4>
	            </div>
	            <div class="modal-body" id="viewDiv">
				</div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-link waves-effect btnModalUpdate">UPDATE</button>
	                <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">CLOSE</button>
	            </div>
	        </div>
	    </div>
	</div>

</div>
</body>
</html>