<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/apage/default_layout}">
<head>
<title>:: 작업후기 수정 ::</title>
<style>
.star-rating {font-size: 24px; color: #ddd;}
.star-rating .material-icons {cursor: pointer;}
.star-rating .material-icons.active {color: #ffd700;}
</style>
<script th:src="@{/apage/js/review040.js}"></script>
<script th:src="@{/plugins/jquery-inputmask/jquery.inputmask.bundle.js}"></script>
</head>
<body>
<div layout:fragment="content">
	<section class="content">
        <div class="container-fluid">
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>작업후기 수정</h2>
                        </div>
                        <div class="body">
							<form id="searchMap" method="POST" >
							    <th:block th:each="entry : ${searchMap}">
							        <input type="hidden" th:name="${entry.key}" th:value="${entry.value != null ? entry.value : ''}">
							    </th:block>
							</form>								
							
                            <form id="reviewForm">
                                <input type="hidden" id="reviewSeq" name="reviewSeq" th:value="${view.reviewSeq}">
                                <div class="row clearfix">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label>작성자명 <span class="text-danger">*</span></label>
                                            <div class="form-line">
                                                <input type="text" id="reviewNm" name="reviewNm" class="form-control" th:value="${view.reviewNm}" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label>서비스 종류 <span class="text-danger">*</span></label>
                                            <select id="serviceCd" name="serviceCd" class="form-control show-tick" required>
                                                <option value="">선택하세요</option>
                                                <option th:each="code : ${serviceCdLst}" 
                                                        th:value="${code.serviceCd}" 
                                                        th:text="${code.serviceNm}"
                                                        th:selected="${code.serviceCd == view.serviceCd}"></option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row clearfix">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label>별점 <span class="text-danger">*</span></label>
                                            <div class="star-rating" id="starRating">
                                                <i class="material-icons" data-value="1">star_border</i>
                                                <i class="material-icons" data-value="2">star_border</i>
                                                <i class="material-icons" data-value="3">star_border</i>
                                                <i class="material-icons" data-value="4">star_border</i>
                                                <i class="material-icons" data-value="5">star_border</i>
                                            </div>
                                            <input type="hidden" id="starRate" name="starRate" th:value="${view.starRate}">
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label>서비스 받은 날짜</label>
                                            <div class="form-line">
                                                <input type="text" id="svcDate" name="svcDate" class="form-control" th:value="${view.svcDate}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label>노출 여부</label>
                                            <div class="switch">
                                                <label>비노출<input type="checkbox" id="dispYn" name="dispYn" th:checked="${view.dispYn == 'Y'}"><span class="lever"></span>노출</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row clearfix">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label>후기 내용 <span class="text-danger">*</span></label>
                                            <div class="form-line">
                                                <textarea id="reviewCn" name="reviewCn" class="form-control" rows="10" required th:text="${view.reviewCn}"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row clearfix">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label>비밀번호 확인</label>
                                            <div class="form-line">
                                                <input type="password" id="pw" name="pw" class="form-control" placeholder="수정 권한 확인을 위한 비밀번호">
                                            </div>
                                            <small class="text-muted">작성시 입력한 비밀번호를 입력하세요. (관리자는 입력 불필요)</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <button type="button" class="btn btn-primary waves-effect" onclick="updateReview()">
                                        <i class="material-icons">save</i>
                                        <span>수정</span>
                                    </button>
                                    <button type="button" class="btn btn-default waves-effect" onclick="cancelList();">
                                        <i class="material-icons">cancel</i>
                                        <span>취소</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</body>
</html>